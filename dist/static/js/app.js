webpackJsonp([2,0],{0:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(109),u=r(o),i=n(108),s=r(i),a=n(104),l=r(a),c=n(41),f=r(c),d=n(42),p=r(d),m=new s.default({routes:[{path:"/search",component:f.default},{path:"/search-result",component:p.default},{path:"/",component:f.default}]});u.default.use(s.default),u.default.prototype.$routz=m,new u.default({el:"#app",router:m,template:"<App/>",components:{App:l.default}})},28:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){p.from.unshift(t.originId),p.from.length=p.from.length>3?3:p.from.length,p.to.unshift(t.destId),p.to.length=p.to.length>3?3:p.to.length,console.log(p,t)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(65),i=r(u),s=n(64),a=r(s),l=n(43),c=r(l),f=[],d="quickresult",p=JSON.parse(localStorage.getItem(d));p||(p={from:[],to:[]});var m={fetch:function(t){return o(t),localStorage.setItem(d,(0,a.default)(p)),new i.default(function(e,n){c.default.post("api/search",t).then(function(t){f=t.data,e(f)})})},get:function(){return f},quickResult:function(){return p}};e.default=m},41:function(t,e,n){n(102);var r=n(22)(n(62),n(107),"data-v-7ec8f895",null);t.exports=r.exports},42:function(t,e,n){n(100);var r=n(22)(n(63),n(105),"data-v-11d5752e",null);t.exports=r.exports},61:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(41),u=r(o),i=n(42),s=r(i);e.default={name:"app",components:{SearchForm:u.default,SearchResult:s.default}}},62:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(28),u=r(o);e.default={name:"searchForm",data:function(){return{model:{from:"",to:""},quickResult:u.default.quickResult(),searching:!1}},methods:{selectQuick:function(t,e){this.model[t]=e},search:function(){var t=this;this.searching=!0,u.default.fetch({destId:this.model.to,originId:this.model.from}).then(function(){t.searching=!1,t.$routz.replace("/search-result")})}}}},63:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(28),u=r(o);e.default={name:"searchResult",data:function(){return{result:u.default.get()}},filters:{origin:function(t){return t.LegList.Leg[0].Origin.name},destination:function(t){return t.LegList.Leg[t.LegList.Leg.length-1].Destination.name},time:function(t){return t.Leg[0].Origin.time+" ⇒ "+t.Leg[t.Leg.length-1].Destination.time},typeImg:function(t){return"static/"+t+"-icon.svg"}},created:function(){0===this.result.length&&this.$routz.push("search")}}},100:function(t,e){},101:function(t,e){},102:function(t,e){},104:function(t,e,n){n(101);var r=n(22)(n(61),n(106),null,null);t.exports=r.exports},105:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.result,function(e){return n("li",[n("h3",[t._v("\n      "+t._s(t._f("time")(e.LegList))+" "+t._s(e.dur)+" min\n    ")]),t._v(" "),n("h5",[n("span",[t._v(t._s(t._f("origin")(e)))]),t._v(" "),n("span",[t._v("-")]),t._v(" "),n("span",[t._v(t._s(t._f("destination")(e)))])]),t._v(" "),n("div",{staticClass:"legList"},t._l(e.LegList.Leg,function(e){return"WALK"!==e.type?n("div",{attrs:{alt:e.name}},[n("img",{attrs:{src:t._f("typeImg")(e.type),width:"50"}}),t._v(" "),n("p",{staticClass:"time"},[t._v(t._s(e.Origin.time))]),t._v(" "),n("span",{staticClass:"line"},[t._v(t._s(e.line))])]):t._e()}))])}))},staticRenderFns:[]}},106:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",[n("h1",[n("router-link",{attrs:{to:"/"}},[t._v("\n        SLapp\n      ")])],1)]),t._v(" "),n("router-view")],1)},staticRenderFns:[]}},107:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{on:{submit:function(e){e.preventDefault(),t.search()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.model.from,expression:"model.from"}],attrs:{type:"text",placeholder:"Från"},domProps:{value:t.model.from},on:{input:function(e){e.target.composing||(t.model.from=e.target.value)}}}),t._v(" "),n("div",{staticClass:"quick-wrapper"},t._l(t.quickResult.from,function(e){return n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(n){t.selectQuick("from",e)}}},[t._v(t._s(e))])})),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model.to,expression:"model.to"}],attrs:{type:"text",placeholder:"Till"},domProps:{value:t.model.to},on:{input:function(e){e.target.composing||(t.model.to=e.target.value)}}}),t._v(" "),n("div",{staticClass:"quick-wrapper"},t._l(t.quickResult.to,function(e){return n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(n){t.selectQuick("to",e)}}},[t._v(t._s(e))])})),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{disabled:t.searching}},[t._v("Sök")])])])},staticRenderFns:[]}}});
//# sourceMappingURL=app.js.map